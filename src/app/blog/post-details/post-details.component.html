<div class="container post-detail">
  <h1>{{ post?.title }}</h1>
  <p class="text-muted">Published on {{ post?.createdAt | date }}</p>

  <div class="post-body">
    <p>{{ post?.body }}</p>
    <img *ngIf="post?.mediaUrl && post?.mediaUrl.match(/\.(jpeg|jpg|png|gif)$/i)" 
         [src]="post.mediaUrl" class="img-fluid rounded mt-3" alt="Post image">
    <video *ngIf="post?.mediaUrl && post?.mediaUrl.match(/\.(mp4|webm|ogg)$/i)" 
           [src]="post.mediaUrl" controls class="w-100 rounded mt-3"></video>
  </div>

  <div class="actions mt-4">
    <button class="btn btn-outline-primary me-2" (click)="likePost()">
      ğŸ‘ {{ post?.likes || 0 }}
    </button>
  </div>

  <!-- Comments -->
  <div class="comments mt-4">
    <h4>Comments ({{ post?.comments?.length || 0 }})</h4>
    <div *ngFor="let comment of post?.comments" class="comment border-bottom py-2">
      <strong>{{ comment.author }}</strong>: {{ comment.text }}
    </div>

    <div class="mt-3">
      <input [(ngModel)]="newComment" placeholder="Write a comment..." class="form-control" />
      <button class="btn btn-dark mt-2" (click)="addComment()">Add Comment</button>
    </div>
  </div>
</div>
